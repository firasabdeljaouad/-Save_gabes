<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Save Gabes{% endblock %}</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" />

    <!-- Themify Icons (for dropdown arrows) -->
    <link rel="stylesheet" href="{{ asset('css/themify-icons.css') }}">

    <!-- Your existing CSS files -->
    <link rel="stylesheet" href="{{ asset('css/owl.carousel.min.css') }}"/>
    <link rel="stylesheet" href="{{ asset('css/magnific-popup.css') }}"/>
    <link rel="stylesheet" href="{{ asset('css/nice-select.css') }}"/>
    <link rel="stylesheet" href="{{ asset('css/flaticon.css') }}"/>
    <link rel="stylesheet" href="{{ asset('css/gijgo.css') }}"/>
    <link rel="stylesheet" href="{{ asset('css/animate.css') }}"/>
    <link rel="stylesheet" href="{{ asset('css/slicknav.css') }}"/>
    <link rel="stylesheet" href="{{ asset('css/style.css') }}"/>
    <link rel="stylesheet" href="{{ asset('css/table-dash.css') }}"/>

    <style>
        :root {
            --green: #28a745;
            --dark-green: #1e7e34;
        }

        /* Enhanced Header */
        .header-area {
            background: var(--green);
            transition: all 0.4s ease;
            position: relative;
            z-index: 999;
        }

        .header-area.sticky {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(40, 167, 69, 0.97);
            backdrop-filter: blur(12px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            animation: slideDown 0.5s ease;
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }

        /* Top Bar */
        .header-top_area {
            background: var(--dark-green);
            padding: 10px 0;
            font-size: 0.95rem;
        }
        .header-top_area a {
            color: #c8e6c9 !important;
            text-decoration: none;
            transition: color 0.3s;
        }
        .header-top_area a:hover { color: white !important; }

        .social_media_links a {
            display: flex;
            gap: 10px;
        }
        .text-danger {
            color: #dc3545 !important;
        }

        .social_media_links a {
            width: 36px;
            height: 36px;
            background: rgba(255,255,255,0.15);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        .social_media_links a:hover {
            background: white;
            color: var(--green);
            transform: translateY(-4px);
        }

        /* Logo */
        .logo h2 {
            color: white;
            font-weight: 900;
            font-size: 2.1rem;
            margin: 0;
            letter-spacing: 1px;
            text-shadow: 0 3px 10px rgba(0,0,0,0.4);
            transition: all 0.3s;
        }
        .logo h2:hover {
            text-shadow: 0 0 20px rgba(255,255,255,0.7);
        }

        /* Main Menu */
        #navigation {
            margin: 0;
            padding: 0;
            list-style: none;
            display: flex;
            align-items: center;
        }

        #navigation > li {
            position: relative;
        }

        #navigation > li > a {
            color: white !important;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.95rem;
            padding: 15px 20px !important;
            display: block;
            transition: all 0.3s;
            position: relative;
        }

        #navigation > li > a::after {
            content: '';
            position: absolute;
            bottom: 10px;
            left: 50%;
            width: 0;
            height: 3px;
            background: white;
            transition: all 0.4s;
            transform: translateX(-50%);
            border-radius: 2px;
        }

        #navigation > li:hover > a,
        #navigation > li.active > a {
            color: white !important;
        }

        #navigation > li:hover > a::after,
        #navigation > li.active > a::after {
            width: 60%;
        }

        /* Dropdown Menu */
        .submenu {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            min-width: 220px;
            border-radius: 12px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            padding: 12px 0;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        li:hover > .submenu {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(10px);
        }

        .submenu li a {
            color: #333 !important;
            padding: 10px 25px !important;
            font-weight: 500;
            transition: all 0.3s;
        }

        .submenu li a:hover {
            background: var(--green);
            color: white !important;
            padding-left: 32px !important;
        }

        /* Button */
        .book_btn a {
            background: white;
            color: var(--green) !important;
            padding: 12px 32px;
            border-radius: 50px;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.9rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            transition: all 0.4s;
        }

        .book_btn a:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.25);
            background: #f8f9fa;
        }

        /* Mobile Menu Button */
        .mobile_menu_btn {
            color: white;
            font-size: 2rem;
            cursor: pointer;
        }
    </style>
</head>
<body>

<!-- ====================== BEAUTIFUL ENHANCED NAVBAR ====================== -->
<header class="header-area" id="headerArea">
    <!-- Top Bar -->
    <div class="header-top_area">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-lg-8 col-md-12">
                    <div class="short_contact_list text-white">
                        <ul class="list-inline mb-0">
                            <li class="list-inline-item me-5"><i class="fa fa-phone me-2"></i> +216 71 860 860</li>
                            <li class="list-inline-item"><i class="fa fa-envelope me-2"></i> savegabes@esprit.tn</li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 text-lg-end">
                    <div class="social_media_links d-none d-lg-flex">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Navbar -->
    <div id="sticky-header" class="main-header-area py-3">
        <div class="container-fluid">
            <div class="row align-items-center">
                <!-- Logo -->
                <div class="col-xl-3 col-lg-3 col-8">
                    <div class="logo">
                        <a href="{{ path('app_home') }}" class="text-decoration-none">
                            <h2>Save Gabes</h2>
                        </a>
                    </div>
                </div>

                <!-- Menu & Button -->
                <div class="col-xl-9 col-lg-9 col-4 text-end">
                    <div class="d-none d-lg-block">
                        <nav>
                            <ul id="navigation" class="mb-0 justify-content-end">
                                <li class="{% if app.request.attributes.get('_route') == 'app_home' %}active{% endif %}">
                                    <a href="{{ path('app_home') }}">Home</a>
                                </li>
                                <li class="{% if app.request.attributes.get('_route') == 'app_about' %}active{% endif %}">
                                    <a href="{{ path('app_about') }}">About</a>
                                </li>

                                <li>
                                    <a href="#">Blog <i class="ti-angle-down ms-1"></i></a>
                                    <ul class="submenu">
                                        <li><a href="{{ path('app_blog') }}">All Posts</a></li>
                                        <li><a href="#">Single Post</a></li>
                                    </ul>
                                </li>

                                <li>
                                    <a href="#">Pages <i class="ti-angle-down ms-1"></i></a>
                                    <ul class="submenu">
                                        <li><a href="#">Elements</a></li>
                                        <li><a href="#">Our Causes</a></li>
                                        <li><a href="{{ path('app_activite_toutes') }}">Activités</a></li>

                                    </ul>
                                </li>

                                <li class="{% if app.request.attributes.get('_route') == 'app_contact' %}active{% endif %}">
                                    <a href="{{ path('app_contact') }}">Contact</a>
                                </li>

                                <li class="ms-4">
                                    <div class="book_btn">
                                        <a href="{{ path('app_projets') }}">Our Projects</a>
                                    </div>
                                </li>
                            </ul>
                        </nav>
                    </div>

                    <!-- Mobile Menu Icon -->
                    <div class="mobile_menu_btn d-block d-lg-none">
                        <i class="fas fa-bars"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Sticky Effect on Scroll -->
<script>
    window.addEventListener('scroll', function () {
        const header = document.getElementById('headerArea');
        if (window.scrollY > 100) {
            header.classList.add('sticky');
        } else {
            header.classList.remove('sticky');
        }
    });
</script>

<!-- Main Content -->
<main class="container mt-5 pt-4">
    {% block body %}{% endblock %}
</main>

<!-- ====================== FOOTER (kept exactly as you had it) ====================== -->
<footer class="footer mt-5">
    <div class="footer_top py-5" style="background: #111;">
        <div class="container">
            <div class="row text-white">
                <div class="col-xl-4 col-md-6 col-lg-4">
                    <div class="footer_widget">
                        <div class="footer_logo mb-3">
                            <a href="#" class="text-white"><h2>Save Gabes</h2></a>
                        </div>
                        <p>We are students at ESPRIT, Tunisia.<br>Passionate about helping our community.<br>Join us in making a difference!</p>
                        <div class="socail_links mt-3">
                            <ul class="list-inline">
                                <li class="list-inline-item"><a href="#"><i class="ti-facebook"></i></a></li>
                                <li class="list-inline-item"><a href="#"><i class="ti-twitter-alt"></i></a></li>
                                <li class="list-inline-item"><a href="#"><i class="fa fa-instagram"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="col-xl-2 col-md-6 col-lg-2 offset-xl-1">
                    <div class="footer_widget">
                        <h3 class="footer_title text-white">Services</h3>
                        <ul class="links ps-0">
                            <li><a href="{{ path('app_donation') }}">Donate</a></li>
                            <li><a href="#">Blog</a></li>
                            <li><a href="#">Volunteer</a></li>
                            <li><a href="#">Events</a></li>
                        </ul>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6 col-lg-3">
                    <div class="footer_widget">
                        <h3 class="footer_title text-white">Contacts</h3>
                        <p>ESPRIT University,<br>Avenue de l'Université,<br>Ariana, Tunisia<br>+216 71 860 860<br>savegabes@esprit.tn</p>
                    </div>
                </div>

                <div class="col-xl-2 col-md-6 col-lg-2">
                    <div class="footer_widget">
                        <h3 class="footer_title text-white">Top News</h3>
                        <ul class="news_links ps-0">
                            <li class="d-flex mb-3">
                                <img src="{{ asset('img/news/news_1.png') }}" width="70" class="me-3 rounded" alt="">
                                <div>
                                    <a href="#" class="text-white"><strong>Save Gabes Launch</strong></a>
                                    <br><small>Nov 29, 2025</small>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="copy-right_text py-4" style="background: #0a0a0a;">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center text-white">
                    <p class="mb-0">&copy; {{ "now"|date("Y") }} Save Gabes. All rights reserved. Made with <i class="text-danger">❤</i> by ESPRIT Students</p>
                </div>
            </div>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const modal = document.getElementById('detailsModal');
    const modalContent = document.getElementById('modalContent');

    modal.addEventListener('show.bs.modal', function (event) {
        const button = event.relatedTarget;
        const activiteId = button.getAttribute('data-id');

        modalContent.innerHTML = '<p class="text-center">Chargement...</p>';

        fetch('/activite/details/' + activiteId)
            .then(response => {
                if (!response.ok) throw new Error('Erreur réseau');
                return response.json();
            })
            .then(data => {
                if (data.error) {
                    modalContent.innerHTML = `<p class="text-danger">${data.error}</p>`;
                } else {
                    modalContent.innerHTML = `
                        <h4>${data.titre}</h4>
                        <p><strong>Date :</strong> ${data.date}</p>
                        <p><strong>Lieu :</strong> ${data.lieu}</p>
                        <p>${data.description}</p>
                    `;
                }
            })
            .catch(err => {
                modalContent.innerHTML = `<p class="text-danger">Erreur lors du chargement des détails.</p>`;
                console.error(err);
            });
    });
});
</script>


</body>
</html>
